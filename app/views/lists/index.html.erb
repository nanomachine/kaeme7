<% provide(:title, 'Lists') %>

<%= will_paginate %>
<div class="row-fluid sortable">		
	<div class="box span12">
		<div class="box-header">
			<h2><i class="icon-list"></i><span class="break"></span></h2>
			<div class="box-icon">
				<%= link_to new_list_path, class: 'btn' do %>
					<i class="icon-plus"></i> New List
				<% end %>
			</div>
		</div>
		<div class="box-content">
			<ul class="nav tab-menu nav-tabs" id="myTab">
				<li class="active"><a href="#mine">My Lists</a></li>
				<li><a href="#all">All Lists</a></li>
			</ul>
<!-- Create partial for list indexing to eleminite repeated code -->
			<div id="myTabContent" class="tab-content">
				<div class="tab-pane active" id="mine">
					<table class="table table-striped table-bordered bootstrap-datatable datatable">
					  <thead>
						  <tr>
						  	  <th>List #</th>
							  <th>Name</th>
							  <th>Description</th>
							  <th>Owner</th>
							  <th>Date Created</th>
						  </tr>
					  </thead>   
					  <tbody>
					  	<% current_user.lists.each do |list| %>
					  		<% @owner = User.find(list.user_id) %>
							<tr>
								<td><%= list.id %></td>
								<td><%= list.name %></td>
								<td><%= list.description %></td>
								<td><%= @owner.name %>
									<%= @owner.last_name %>
								</td>
								<td><%= list.created_at.strftime(" %b.%d %Y") %></td>
<!--Action buttons for list index table, Delete and More Info -->
								<td class="center">
									<%= link_to list, class: 'btn btn-info' do %>
										<i class="icon-zoom-in icon-white"></i> 
									<% end %>
									<%= link_to edit_list_path(list), class: 'btn btn-success' do %>
										<i class="icon-edit icon-white"></i> 
									<% end %>
									<%= link_to list, method: :delete, data: { confirm: "Delete this list?" }, class: 'btn btn-danger' do %>
										<i class="icon-trash icon-white"></i> 
									<% end %>
								</td>
							</tr>
						<% end %>
					  </tbody>
				  </table>
				</div>
				<div class="tab-pane" id="all">
					<table class="table table-striped table-bordered bootstrap-datatable datatable">
					  <thead>
						  <tr>
						  	  <th>List #</th>
							  <th>Name</th>
							  <th>Description</th>
							  <th>Owner</th>
							  <th>Date Created</th>
						  </tr>
					  </thead>   
					  <tbody>
					  	<% @lists.each do |list| %>
					  		<% @owner = User.find(list.user_id) %>
							<tr>
								<td><%= list.id %></td>
								<td><%= list.name %></td>
								<td><%= list.description %></td>
								<td><%= @owner.name %>
									<%= @owner.last_name %>
								</td>
								<td><%= list.created_at.strftime(" %b.%d %Y") %></td>
		<!--Action buttons for list index table, Delete and More Info -->
								<td class="center">
									<%= link_to list, class: 'btn btn-info' do %>
										<i class="icon-zoom-in icon-white"></i> 
									<% end %>
									<%= link_to edit_list_path(list), class: 'btn btn-success' do %>
										<i class="icon-edit icon-white"></i> 
									<% end %>
									<%= link_to list, method: :delete, data: { confirm: "Delete this list?" }, class: 'btn btn-danger' do %>
										<i class="icon-trash icon-white"></i> 
									<% end %>
								</td>
							</tr>
						<% end %>
					  </tbody>
				  </table>
				</div>
			</div>            
		</div>
	</div><!--/span-->
</div><!--/row-->
<%= will_paginate %>

<!-- start: JavaScripts-->
<!-- <script src="assets/bootstrap.js"></script> -->
<!-- <%= javascript_include_tag  %> -->
<!-- bootstrap: JavaScripts-->